# dp数组横向空间压缩

**循环使用dp数组，减少额外空间开销**

对于有些问题：动态转移方程可能只有dp\[i\] = dp\[i-1\] + dp\[i-2\] + dp\[i-3\]但是n会很大

这时候开一个长度为n的数组很不必要，其实只用dp\[4\]的长度循环使用就够了

**题目：**有个小孩正在上楼梯，楼梯有n阶台阶，小孩一次可以上1阶、2阶或3阶。实现一种方法，计算小孩有多少种上楼梯的方式，n范围在\[1, 1000000\]之间

```cpp
class Solution {
public:
    int waysToStep(int n) {
        int dp[4];
        int M = 1e9+7;
        dp[0] = 1;
        dp[1] = 1;
        dp[2] = 2; 
        for(int i = 3; i <= n; i++){
            dp[i % 4] = ((dp[(i - 1) % 4] + dp[(i - 2) % 4]) % M + dp[(i - 3) % 4]) % M;
        }
        return dp[n % 4];
    }
};
```


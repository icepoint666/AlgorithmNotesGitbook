# 包含KMP思想——字典序比较

**题目**

| 序号/难度 | 名字 | 备注 |  |
| :--- | :--- | :--- | :--- |
| 1163 | 按字典序排在最后的子串 | 复杂度要O\(n\) | 中等 |
|  |  |  |  |

**1163. 按字典序排在最后的子串**

 给你一个字符串 `s`，找出它的**字典序最大的子串**

**解法：**

关于子串 与 子序列

* 子串暴力枚举：N^2种（但是依旧很多）
* 子序列暴力枚举：N!种

**本题一个关键点：最大字典序的子串末尾一定是字符串的结尾**

**所以只用找子串的开始！**

**解法0：最好解法应该是能不能绝对O\(N\)呢？结合KMP算法思路应该可以套用在这上面？**

**解法1：最差O\(N^2\)的解法，但是leetcode却超过了95%**

```cpp
string lastSubstring(string s) {
    int st = 0, i = 1;
    while(i < s.size()){
        int j = st;
        while(i < s.size() && s[i] == s[j]){
            i++;
            j++;
        }
        if(s[j] < s[i]){  //如果这个条件触发多次，而且每次j都移动了很多，那么达到O(N^2)
            i -= (j - st); //关键：如果更新了最大字典序子串的st，要重新移动i到开始，否则cacacb会出错
            st = i;
        }
        i++;
    }
    return s.substr(st, s.size());
}
```



